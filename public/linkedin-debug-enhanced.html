<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LinkedIn Share Debug - CuriosAI</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 40px 20px;
            line-height: 1.6;
        }
        .test-url {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            word-break: break-all;
            font-family: monospace;
        }
        .test-button {
            background: #0077B5;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            text-decoration: none;
            display: inline-block;
            margin: 5px;
        }
        .section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <h1>LinkedIn Share Debug - CuriosAI</h1>
    
    <div class="section">
        <h2>üîç Step 1: Test Share Function URLs</h2>
        <p>These URLs should show proper meta tags for LinkedIn crawlers:</p>
        
        <div class="test-url">
            https://curiosai.com/.netlify/functions/share?query=How%20does%20machine%20learning%20work&snippet=Machine%20learning%20is%20a%20subset%20of%20artificial%20intelligence%20that%20enables%20computers%20to%20learn%20and%20make%20decisions%20from%20data%20without%20being%20explicitly%20programmed
        </div>
        <a href="https://curiosai.com/.netlify/functions/share?query=How%20does%20machine%20learning%20work&snippet=Machine%20learning%20is%20a%20subset%20of%20artificial%20intelligence" class="test-button" target="_blank">Test Share Function</a>
        
        <div class="test-url">
            https://curiosai.com/.netlify/functions/debug-headers?query=LinkedIn%20Bot%20Debug%20Test
        </div>
        <a href="https://curiosai.com/.netlify/functions/debug-headers?query=LinkedIn%20Bot%20Debug%20Test" class="test-button" target="_blank">Test Debug Headers</a>
    </div>

    <div class="section">
        <h2>üîç Step 2: Test Search Results URLs</h2>
        <p>These URLs should show dynamic meta tags via edge function:</p>
        
        <div class="test-url">
            https://curiosai.com/search?q=How%20does%20machine%20learning%20work&snippet=Machine%20learning%20is%20a%20subset%20of%20artificial%20intelligence
        </div>
        <a href="https://curiosai.com/search?q=How%20does%20machine%20learning%20work&snippet=Machine%20learning%20is%20a%20subset%20of%20artificial%20intelligence" class="test-button" target="_blank">Test Search Results</a>
    </div>

    <div class="section">
        <h2>üìã Step 3: LinkedIn Post Inspector</h2>
        <p>Copy any of the URLs above and test them in LinkedIn's Post Inspector:</p>
        <a href="https://www.linkedin.com/post-inspector/" class="test-button" target="_blank">LinkedIn Post Inspector</a>
        
        <h3>What to look for:</h3>
        <ul>
            <li>‚úÖ Title should be the query text (not "What do you want to talk about?")</li>
            <li>‚úÖ Description should be the AI response snippet</li>
            <li>‚úÖ Image should show the CuriosAI logo or dynamic OG image</li>
            <li>‚úÖ URL should point to the search results page</li>
        </ul>
    </div>

    <div class="section">
        <h2>üõ† Debug Information</h2>
        <p>Enhanced bot detection now includes:</p>
        <ul>
            <li>Standard bot user agents (LinkedInBot, etc.)</li>
            <li>LinkedIn-specific patterns (LinkedInShareTool, LinkedInApp)</li>
            <li>Cross-site navigation detection</li>
            <li>Empty/missing Mozilla detection</li>
            <li>Referer header checking for linkedin.com</li>
        </ul>
        
        <p>Check Netlify function logs for debugging information when testing with LinkedIn Post Inspector.</p>
    </div>

    <div class="section">
        <h2>üß™ Previous Test Results</h2>
        <p>If you're still seeing "What do you want to talk about?", try:</p>
        <ol>
            <li>Clear LinkedIn's cache using Post Inspector</li>
            <li>Wait 5-10 minutes for edge functions to propagate</li>
            <li>Test with the debug-headers function to see what LinkedIn sends</li>
            <li>Check Netlify function logs for bot detection status</li>
        </ol>
    </div>
</body>
</html>
